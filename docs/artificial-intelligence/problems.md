

### Main

添加 `if __name__ == "__main__"`: 解决了问题的原因主要与 Python 的模块导入机制和多进程编程有关。让我解释一下：

1. 模块执行控制：当 Python 解释器读取一个源文件时，它会执行文件中的所有代码。`if __name__ == "__main__":` 检查确保某些代码只在脚本被直接运行时执行，而不是在被导入为模块时执行。

2. 多进程安全：在多进程编程中，Python 会为每个新进程导入整个模块。如果没有 `if __name__ == "__main__":` 保护，主模块的代码会在每个子进程中重复执行，可能导致意外的行为。